import{s as e}from"./index-B62kerm1.js";class w{constructor(n){this.main=document.querySelector("main"),this.ui=e.st.ui,this.router=n,e.st.header.focus(2),document.title="Wordle "+e.st.lang.profilePageBtn}init(){this.initContent()}initContent(){this.ui.add(".profile-box",{display:"grid",width:"100%",height:"100%",alignItems:"center",gridTemplateAreas:`"profile logs"
             "gallery logs"`,gap:"1vw",gridTemplateRows:"45vh 45vh",gridTemplateColumns:"45vw 45vw",justifyContent:"center"}),this.ui.add("@media screen and (max-width: 800px)",{"main .profile-box":{gridTemplateAreas:`"profile"
                 "gallery"
                 "logs"`,gap:"2vh",gridTemplateRows:"auto",gridTemplateColumns:"85vw"}}),this.box=document.createElement("div"),this.box.classList.add("profile-box"),this.main.appendChild(this.box),this.initProfile(),this.initState(),this.initGallery()}initProfile(){this.ui.add(".user-profile",{gridArea:"profile",display:"flex",gap:"5px",width:"100%",height:"auto",padding:"5px",alignItems:"center",justifyContent:"center",borderRadius:"12px",backgroundColor:"rgba(var(--bg-nd), 0.8)"});const n=document.createElement("div");n.classList.add("user-profile"),this.ui.add(".avatarBox",{gridArea:"avatar",width:"40%",aspectRatio:"1/1",display:"flex",alignItems:"center",justifyContent:"center",img:{borderRadius:"8px",width:"80%",height:"80%"}});const l=document.createElement("div");l.classList.add("avatarBox");const o=document.createElement("img");o.src=e.st.user.avatar||"../cats/cat_with_laptop.jpg",l.appendChild(o),n.appendChild(l),this.ui.add(".data-box",{width:"50%",display:"flex",paddingTop:"7%",flexDirection:"column",height:"100%",gap:"2vh"});const g=document.createElement("div");n.appendChild(g),g.classList.add("data-box"),this.ui.add(".nickname",{gridArea:"nick",fontSize:"200%",fontWeight:"bold"});const s=document.createElement("div");s.classList.add("nickname"),s.textContent=e.st.user.name,g.appendChild(s),this.ui.add(".app-option",{gridArea:"option",width:"100%",display:"flex",alignItems:"canter",gap:"10px",flexWrap:"wrap",".btn":{all:"unset",cursor:"pointer",borderRadius:"8px",backgroundColor:"rgb(var(--component))",display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",width:"auto",gap:"5px",svg:{height:"100%",aspectRatio:"1 / 1"}}});const i=document.createElement("div");i.classList.add("app-option"),this.ui.add(".option-menu",{position:"absolute",display:"flex",borderRadius:"8px",width:"200px",height:"auto",padding:"5px",gap:"5px",backgroundColor:"rgba(var(--bg-rd), 0.9)",boxShadow:"0px 4px 10px rgba(0, 0, 0, 0.1)",alignItems:"center",justifyContent:"center",flexDirection:"column",opacity:"0",transform:"translateY(-20px)",transition:"opacity 0.3s cubic-bezier(0.25, 1, 0.5, 1), transform 0.3s cubic-bezier(0.25, 1, 0.5, 1)","&.show":{opacity:"1",transform:"translateY(0px)"}}),this.ui.add(".option-menu-btn",{all:"unset",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"5px",padding:"3px",cursor:"pointer",backgroundColor:"rgba(var(--component), 0.8)",width:"90%"});const c=u=>{const a=u.target;if(document.querySelector(".option-menu"))return;const t=document.createElement("div");t.classList.add("option-menu"),document.body.appendChild(t);const d=a.getBoundingClientRect(),r=200;let x=d.left,b=d.bottom+window.scrollY+10;return x+r>window.innerWidth&&(x=window.innerWidth-r-20),t.style.left=`${x}px`,t.style.top=`${b}px`,t.classList.add("show"),setTimeout(()=>{document.addEventListener("click",()=>{t.classList.remove("show"),setTimeout(()=>t.remove(),300)},{once:!0})},10),t},h=document.createElement("button");h.addEventListener("click",u=>{const a=c(u);if(a)for(const t in e.st.langs){const d=document.createElement("button");d.textContent=t,d.classList.add("option-menu-btn"),d.addEventListener("click",()=>{e.st.app.changeLang(e.st.langs[t])}),a.appendChild(d)}}),h.classList.add("btn"),h.appendChild(e.st.app.createIcon("#langs")),h.innerHTML+="<span>"+e.st.lang.option.langs+"</span>",i.appendChild(h);const p=document.createElement("button");p.addEventListener("click",u=>{const a=c(u);if(!a)return;const t=document.createElement("button");t.classList.add("option-menu-btn"),t.textContent=e.st.lang.themes.dark,t.addEventListener("click",()=>{localStorage.setItem("prefer-class","dark-mode"),document.documentElement.className="dark-mode"}),a.appendChild(t);const d=document.createElement("button");d.classList.add("option-menu-btn"),d.textContent=e.st.lang.themes.light,d.addEventListener("click",()=>{localStorage.setItem("prefer-class","light-mode"),document.documentElement.className="light-mode"}),a.appendChild(d);const r=document.createElement("button");r.classList.add("option-menu-btn"),r.textContent=e.st.lang.themes.auto,r.addEventListener("click",()=>{localStorage.removeItem("prefer-class"),window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark-mode"):document.documentElement.classList.add("light-mode")}),a.appendChild(r)}),p.classList.add("btn"),p.appendChild(e.st.app.createIcon("#theme")),p.innerHTML+="<span>"+e.st.lang.option.theme+"</span>",i.appendChild(p),g.appendChild(i),this.ui.add("description",{gridArea:"description",maxWidth:"100%",maxHeight:"100px",border:"1px solid white",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"});const m=document.createElement("div");m.classList.add("description");const f=document.createElement("span");f.textContent=e.st.user.desc,m.appendChild(f),g.appendChild(m),this.box.appendChild(n)}initGallery(){this.ui.add(".gallery-box",{gridArea:"gallery",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"12px",backgroundColor:"rgba(var(--bg-nd), 0.8)",width:"100%",height:"100%",padding:"5px"});const n=document.createElement("div");n.classList.add("gallery-box"),this.ui.add(".gallery-header",{display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",fontSize:"120%",fontWeight:"bold"});const l=document.createElement("div");l.classList.add("gallery-header"),l.innerHTML=`<span>${e.st.lang.profile.galleryHeader}</span>`,n.appendChild(l),this.ui.add(".gallery",{maxWidth:"100%",height:"100%",padding:"15px",overflowX:"auto",overflowY:"hidden",borderRadius:"10px",display:"flex",flexDirection:"row",backgroundColor:"rgba(var(--bg-st), 0.7)",alignItems:"center",gap:"2vw"});const o=document.createElement("div");o.classList.add("gallery");const g=["../cats/action_cat.jpg","../cats/meow.jpg","../cats/omg_cat.jpg","../cats/scary.jpg","../cats/working.gif"];if(this.ui.add(".pic-box",{display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",".pic":{aspectRatio:"1/1",width:"25vw",maxHeight:"250px",maxWidth:"250px",borderRadius:"8px"}}),g.forEach(s=>{const i=document.createElement("div");i.classList.add("pic-box");const c=document.createElement("img");c.classList.add("pic"),c.src=s,i.appendChild(c),o.appendChild(i)}),this.ui.add(".error-pics",{fontSize:"125%"}),!g.length){const s=document.createElement("span");s.classList.add("error-pics"),s.textContent=e.state.lang.profile.noPicks,o.appendChild(s)}n.appendChild(o),this.box.appendChild(n)}initState(){var u;this.ui.add(".user-state",{gridArea:"logs",display:"flex",flexDirection:"column",alignItems:"center",borderRadius:"12px",backgroundColor:"rgba(var(--bg-nd), 0.8)",height:"85vh",maxHeight:"100%",width:"100%",padding:"5px"});const n=document.createElement("div");n.classList.add("user-state"),this.ui.add(".info-header",{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",fontSize:"125%",fontWeight:"bold"});const l=document.createElement("div");l.classList.add("info-header"),l.innerHTML=`<span>${e.state.lang.profile.logsHeaderName}</span>`,n.appendChild(l),this.ui.add(".user-games-log",{backgroundColor:"rgba(var(--bg-st), 0.7)",width:"100%",height:"100%",maxHeight:"60vh",overflowY:"auto",overflowX:"hidden",display:"flex",alignItems:"center",flexDirection:"column",borderRadius:"8px",gap:"3vh",padding:"5px",".log":{width:"100%",height:"2vh",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0px 5px",".word":{fontSize:"110%"},".attempts":{fontSize:"110%"}},"> span":{fontWeight:"bold",fontSize:"130%",marginTop:"15%"}});const o=document.createElement("div");o.classList.add("user-games-log");const g=a=>{const{attempts:t,word:d}=a,r=document.createElement("div");r.classList.add("log");const x=document.createElement("span");x.classList.add("word"),x.textContent=d,r.appendChild(x);const b=document.createElement("span");b.classList.add("attempts"),b.textContent=t,r.appendChild(b),o.appendChild(r)};let s=localStorage.getItem("userGameData"),i;if(s&&(i=JSON.parse(s),(u=i.games)==null||u.forEach(a=>g(a))),i&&!i.games.length||!i){const a=document.createElement("span");a.textContent=e.st.lang.profile.logsError,o.appendChild(a)}n.appendChild(o),this.ui.add(".average-box",{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",width:"100%",height:"100%",padding:"5px",borderRadius:"12px"});const c=document.createElement("div");c.classList.add("average-box"),this.ui.add(".average-header",{display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",fontSize:"120%",fontWeight:"bold",width:"100%",height:"auto"});const h=document.createElement("div");h.classList.add("average-header"),h.textContent=e.st.lang.average.header,this.ui.add(".average-content",{width:"100%",height:"100%",display:"flex",borderRadius:"8px",alignItems:"center",justifyContent:"center",padding:"5px",fontWeight:"bold",fontSize:"150%",backgroundColor:"rgba(var(--bg-st), 0.7)",span:{fontSize:"200%",fontWeight:"bolder"}});let p=0,m=localStorage.getItem("userGameData");m&&(m=JSON.parse(m),m&&typeof m=="object"&&(p=m.games.reduce((a,t)=>a+t.attempts,0)/m.games.length)),(typeof p!="number"||!p)&&(p=0);const f=document.createElement("div");f.textContent=String(p),f.classList.add("average-content"),c.appendChild(h),c.appendChild(f),n.appendChild(c),this.box.appendChild(n)}exit(){this.main.innerHTML=""}}export{w as default};
